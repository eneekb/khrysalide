<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Khrysalide - Suivi calorique</title>

    
    <!-- PWA Meta Tags -->
    <meta name="description" content="Application de suivi calorique et rÃ©Ã©quilibrage alimentaire">
    <meta name="theme-color" content="#52D1B3">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Khrysalide">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="apple-touch-icon" href="logo.png">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Ã‰cran de dÃ©marrage -->
    <div id="splash-screen">
        <!-- Bulles dÃ©coratives -->
        <div class="bubble bubble1"></div>
        <div class="bubble bubble2"></div>
        <div class="bubble bubble3"></div>
        
        <!-- Logo -->
        <div class="logo-container">
            <div class="logo">
                <img src="logo.png" alt="Khrysalide Logo" />
            </div>
        </div>
        
        <!-- Titre -->
        <h1 class="app-title">Khrysalide</h1>
        
        <!-- Version -->
        <div class="version">v1.0.0</div>
        
        <!-- Section de chargement -->
        <div class="loading-section">
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div class="loading-text" id="loading-text">Initialisation...</div>
        </div>
    </div>
    
    <!-- Container principal de l'app -->
    <div id="app">
        <!-- Le contenu de l'app sera injectÃ© ici par JavaScript -->
    </div>
    
    <script>
        // Phrases de chargement amusantes
        const loadingPhrases = [
            "PesÃ©e des calories en cours...",
            "Mixage des nutriments...",
            "PrÃ©chauffage de votre motivation...",
            "Ã‰pluchage des donnÃ©es...",
            "Assaisonnement de l'interface...",
            "Cuisson de vos statistiques Ã  feu doux...",
            "DÃ©coupe des portions en pixels...",
            "Fouettage Ã©nergique des graphiques...",
            "Marinade des recettes dans la base...",
            "Flambage spectaculaire du dashboard...",
            "Dressage artistique des boutons...",
            "RÃ©duction de la sauce calorique...",
            "Ã‰mulsion parfaite des couleurs...",
            "CaramÃ©lisation de l'expÃ©rience utilisateur...",
            "Infusion des bonnes ondes...",
            "Pochage dÃ©licat de vos objectifs...",
            "Mijotage des algorithmes...",
            "DÃ©gustation des premiÃ¨res lignes de code...",
            "Blanchiment des lÃ©gumes virtuels...",
            "TorrÃ©faction des grains de donnÃ©es...",
            "PÃ©trissage de la pÃ¢te Ã  interface...",
            "Fermentation des fonctionnalitÃ©s...",
            "Glacage des graphiques...",
            "TempÃ©rage du chocolat numÃ©rique...",
            "Clarification du bouillon de code...",
            "MacÃ©ration des fruits statistiques...",
            "DÃ©graissage de l'application...",
            "Monter les blancs en neige digitale...",
            "Faire revenir les oignons de connexion...",
            "Saupoudrage de magie utilisateur...",
            "Nappage de sauce hollandaise 2.0...",
            "Brunoise de pixels bio...",
            "Julienne de barres de progression...",
            "Chiffonnade de feuilles de style...",
            "Concassage des tomates de donnÃ©es...",
            "PoÃªlage des champignons d'interface...",
            "Gratinage des fromages de fonctions...",
            "DÃ©congÃ©lation des surgelÃ©s numÃ©riques...",
            "Pressage des agrumes vitaminÃ©s...",
            "Battage de la crÃ¨me fouettÃ©e virtuelle..."
        ];
        
        // Simulation du chargement
        let progress = 0;
        const progressBar = document.getElementById('progress-bar');
        const loadingText = document.getElementById('loading-text');
        const splashScreen = document.getElementById('splash-screen');
        const app = document.getElementById('app');
        
        // Fonction pour mettre Ã  jour le texte de chargement
        function updateLoadingText() {
            const randomPhrase = loadingPhrases[Math.floor(Math.random() * loadingPhrases.length)];
            loadingText.textContent = randomPhrase;
        }
        
        // Mise Ã  jour du texte toutes les 2000ms (2 secondes)
        const textInterval = setInterval(updateLoadingText, 2000);
        
        // Simulation de progression (durÃ©e minimale 7 secondes)
        const startTime = Date.now();
        const minDuration = 7000; // 7 secondes minimum
        
        const progressInterval = setInterval(() => {
            const elapsed = Date.now() - startTime;
            const timeProgress = (elapsed / minDuration) * 100;
            
            // Progression alÃ©atoire mais limitÃ©e par le temps
            progress += Math.random() * 10;
            
            // On s'assure de ne pas dÃ©passer 100% avant 5 secondes
            if (elapsed < minDuration) {
                progress = Math.min(progress, timeProgress);
            }
            
            if (progress > 100) progress = 100;
            
            progressBar.style.width = progress + '%';
            
            if (progress >= 100 && elapsed >= minDuration) {
                clearInterval(progressInterval);
                clearInterval(textInterval);
                loadingText.textContent = "C'est prÃªt ! Bon appÃ©tit ðŸŽ‰";
                
                // Transition vers l'app
                setTimeout(() => {
                    splashScreen.classList.add('hide');
                    setTimeout(() => {
                        splashScreen.style.display = 'none';
                        app.style.display = 'block';
                        // Ici on initialisera l'app
                        initializeApp();
                    }, 500);
                }, 1000);
            }
        }, 200);
        
        // Fonction d'initialisation de l'app (placeholder)
        function initializeApp() {
            // TODO: Initialiser l'authentification Google
            // TODO: Charger le routeur
            // TODO: Afficher la premiÃ¨re page
            console.log('App initialized!');
            
            // Pour le moment, on affiche juste un message
            app.innerHTML = `
                <div class="flex flex-center flex-column" style="height: 100%;">
                    <h2 class="text-mint mb-md">Bienvenue dans Khrysalide !</h2>
                    <p class="text-center">L'application est prÃªte Ã  Ãªtre dÃ©veloppÃ©e ðŸš€</p>
                </div>
            `;
        }
    </script>
</body>
</html>
